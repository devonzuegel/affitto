(function(){ABM.FloodFill=function(){function t(t,n,i,o){this.fCandidate=n,this.fJoin=i,this.fNeighbors=o,this.nextFront=t,this.prevFront=[],this.done=!1}return t.prototype.nextStep=function(){var t,n,i,o,e,h,r,s,f,F,d,p;if(!this.done){for(F=this.nextFront,n=0,e=F.length;e>n;n++)f=F[n],this.fJoin(f,this.prevFront);for(t=[],d=this.nextFront,i=0,h=d.length;h>i;i++)for(f=d[i],p=this.fNeighbors(f),o=0,r=p.length;r>o;o++)s=p[o],this.fCandidate(s,this.nextFront)&&t.indexOf(s)<0&&t.push(s);return this.prevFront=this.nextFront,this.nextFront=t,0===this.nextFront.length?this.done=!0:void 0}},t.prototype.go=function(){var t;for(t=[];!this.done;)t.push(this.nextStep());return t},t}()}).call(this);